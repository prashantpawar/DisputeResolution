// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"buyerAddress","type":"address"},{"name":"sellerAddress","type":"address"},{"name":"amount","type":"uint256"},{"name":"blockNumber","type":"uint256"}],"name":"keyGenerator","outputs":[{"name":"","type":"bytes32"}],"type":"function"},{"constant":false,"inputs":[{"name":"token","type":"bytes32"}],"name":"sellerAccepts","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"buyerAddress","type":"address"},{"name":"sellerAddress","type":"address"},{"name":"amount","type":"uint256"}],"name":"initiateCreation","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"token","type":"bytes32"}],"name":"buyerAccepts","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"token","type":"bytes32"}],"name":"getEscrowInfo","outputs":[{"name":"buyerAddr","type":"address"},{"name":"buyerSigned","type":"bool"},{"name":"sellerAddr","type":"address"},{"name":"sellerSigned","type":"bool"},{"name":"amount","type":"uint256"}],"type":"function"}],
    binary: "6060604052610333806100126000396000f3606060405260e060020a6000350463191fdd7d81146100475780633646a9911461009f57806356b89473146100c2578063796eec41146101015780639585e82d14610124575b005b6101506004356024356044356064355b60408051600160a060020a039586166c010000000000000000000000009081028252949095169093026014850152602884019190915260488301525190819003606801902090565b61004560043560008181526020819052604081206002015414156102e557610002565b61004560043560243560443560408051808201825260008082526020828101829052835180850190945281845283018190529161019c86868643610057565b610045600435600081815260208190526040812060020154141561029957610002565b610162600435600081815260208190526040812060020154819081908190819081141561024e57610002565b60408051918252519081900360200190f35b60408051600160a060020a039687168152602081019590955292909416838301526060830152608082019290925290519081900360a00190f35b60408051808201825297885260006020898101829052825180840184529889528881018290528251606081018452998a52898101988952898301978852928152808352208054975180519083015173ffffffffffffffffffffffffffffffffffffffff19998a169190911760a060020a60ff021990811660a060020a9283021783556001830180549951805195015199909a169390931790921696909102959095179095555050516002919091015550565b505050600092835250506020819052604090206001810154815460029290920154600160a060020a038381169460a060020a9485900460ff9081169592851694929092049091169190565b600081815260208190526040902054600160a060020a039081163390911614156102e0576040600090812090829052805460a060020a60ff02191660a060020a1790555b50565b610002565b600081815260208190526040902060010154600160a060020a039081163390911614156102e0576040600090812090829052600101805460a060020a60ff02191660a060020a1790556102dd56",
    unlinked_binary: "6060604052610333806100126000396000f3606060405260e060020a6000350463191fdd7d81146100475780633646a9911461009f57806356b89473146100c2578063796eec41146101015780639585e82d14610124575b005b6101506004356024356044356064355b60408051600160a060020a039586166c010000000000000000000000009081028252949095169093026014850152602884019190915260488301525190819003606801902090565b61004560043560008181526020819052604081206002015414156102e557610002565b61004560043560243560443560408051808201825260008082526020828101829052835180850190945281845283018190529161019c86868643610057565b610045600435600081815260208190526040812060020154141561029957610002565b610162600435600081815260208190526040812060020154819081908190819081141561024e57610002565b60408051918252519081900360200190f35b60408051600160a060020a039687168152602081019590955292909416838301526060830152608082019290925290519081900360a00190f35b60408051808201825297885260006020898101829052825180840184529889528881018290528251606081018452998a52898101988952898301978852928152808352208054975180519083015173ffffffffffffffffffffffffffffffffffffffff19998a169190911760a060020a60ff021990811660a060020a9283021783556001830180549951805195015199909a169390931790921696909102959095179095555050516002919091015550565b505050600092835250506020819052604090206001810154815460029290920154600160a060020a038381169460a060020a9485900460ff9081169592851694929092049091169190565b600081815260208190526040902054600160a060020a039081163390911614156102e0576040600090812090829052805460a060020a60ff02191660a060020a1790555b50565b610002565b600081815260208190526040902060010154600160a060020a039081163390911614156102e0576040600090812090829052600101805460a060020a60ff02191660a060020a1790556102dd56",
    address: "0x7b22f90f27fef4e536042a2cdf7b50f0cb906266",
    generated_with: "2.0.6",
    contract_name: "EscrowCreator"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("EscrowCreator error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("EscrowCreator error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("EscrowCreator error: lease call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("EscrowCreator error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.EscrowCreator = Contract;
  }

})();
